# 機構設計輔助系統 (Bot Builder)

> 從運動需求到 G-code 的一站式機構設計與製造解決方案

[![Live Demo](https://img.shields.io/badge/🚀_線上試用-Live_Demo-success?style=for-the-badge)](https://cieoco.github.io/cadcam/)

## 🎯 專案概述

這是一個模組化的機構設計輔助系統，專為創客、學生與工程師設計。它提供完整的機構設計工作流程：

1. **運動優先 (Motion First)** - 先決定要什麼運動（擺動、直線、往復），系統會推薦合適機構。
2. **參數化設計** - 輸入設計參數，即時 2D 物理模擬。
3. **多連桿精靈** - 透過互動式介面，自由組裝桿件與三角形，或載入經典範本（如夾爪、曲柄滑塊）。
4. **零件生成** - 自動產生可加工的 SVG 圖檔與 CNC G-code。

## ✨ 主要特色

- 🎨 **即時視覺化** - 2D 動畫模擬，直觀理解機構運動
- 🛠️ **多連桿設計器** - 像樂高一樣組裝連桿，支援自動求解與拖拉編輯
- 📁 **範本系統** - 內建平形四連桿、夾爪、曲柄滑塊等多種範本
- ⚙️ **參數化設計** - 調整參數立即看到效果
- 🔧 **零件自動化** - 一鍵生成所有零件的加工程式
- 🎯 **工程防呆** - 內建「幾何可行性」、「可加工性」儀表板

## 🗂️ 專案結構

*(省略部分技術細節，詳見程式碼)*

```
cadcam/
├── index.html                  # 機構選單首頁 (Wizard 入口)
├── mechanism.html              # 統一的機構模擬頁面
├── js/
│   ├── mechanism-loader.js     # 核心載入器
│   ├── ui/wizard.js            #多連桿設計精靈 (Wizard UI)
│   ├── examples/               # 機構範本 JSON (Gripper, Slider...)
│   ├── fourbar/                # 四連桿模組
│   ├── multilink/              # 多連桿核心模組
│   └── ...
└── ...
```

## 🔧 支援的機構類型

### ✅ 已實作機構

#### 1. 四連桿機構（Four-Bar）
- **應用**：擺動輸出、軌跡控制
- **特點**：最經典的機構，參數完整。

#### 2. 曲柄滑塊機構（Crank-Slider）
- **應用**：直線往復運動、引擎活塞
- **特點**：旋轉轉直線，行程明確。

#### 3. 齒輪齒條機構（Rack & Pinion）
- **應用**：長行程直線傳動、CNC 軸
- **特點**：精確控制位置。

#### 4. 🦀 多連桿機構 (Multilink Wizard) **(NEW)**
- **應用**：客製化複雜機構 (如夾爪、仿生獸腿、折疊機構)
- **特點**：
    - **互動編輯**：提供「新增二孔桿」、「新增三角桿」等工具。
    - **範本系統**：支援載入 JSON 範本 (如夾爪、模擬滑塊)。
    - **自動求解**：內建 Dyad Solver，自動計算節點位置。

#### 5. ✏️ 桿件繪圖工具 (Bar Drawer) **(NEW)**
- **應用**：純粹的 2D 零件繪製
- **特點**：不涉及運動模擬，專注於繪製連桿外型與孔位，產生 DXF/G-code。

## 🚀 快速開始

### 1. 啟動方式

由於專案使用 ES6 模組 (import/export)，**不可直接點擊 HTML 檔案開啟**，必須透過本地伺服器：

**推薦：VS Code Live Server**
1. 安裝 "Live Server" 擴充套件
2. 右鍵點擊 `index.html`
3. 選擇 "Open with Live Server"

**替代方案：Python**
```bash
python -m http.server 8000
```
瀏覽器開啟 `http://localhost:8000`

### 2. 使用流程

1. **首頁導引**：在 `index.html` 選擇運動型態（擺動、直線...）。
2. **進入模擬**：選擇推薦的機構（或點擊下方快速入口）。
3. **調整參數**：
    - **四連桿/滑塊**：右側面板調整數值。
    - **多連桿**：使用左側 Wizard 新增/刪除桿件，或載入範本。
4. **驗證與輸出**：確認動畫無誤後，點擊「生成 G-code」或下載 SVG。

## 🛠️ 開發指南 (給維護者)

### 如何新增多連桿範本？

1. 在 `js/examples/` 資料夾中建立新的 JSON 檔案 (參考 `gripper.json`)。
2. 確保 JSON 包含 `_wizard_data` 欄位，定義桿件 (Bar/Triangle) 與點位 (Fixed/Floating)。
3. 在 `js/examples/index.js` 的 `EXAMPLE_TEMPLATES` 陣列中加入新條目。

*(更多模組擴充細節請參考原始程式碼架構)*

## 📝 版本歷史

### v3.1 - 2025-12-28 (Feature Release)
- ✨ **多連桿互動精靈**：支援互動式桿件組裝與編輯。
- 📂 **範本系統**：新增夾爪、模擬滑塊、平行四連桿範本。
- ✏️ **桿件繪圖工具**：獨立的繪圖模式。
- 🎨 **UI 優化**：首頁新增快速入口，全螢幕模式優化。

### v3.0 - 2025-12-26
- ✨ 新增多種機構類型（曲柄滑塊、齒輪齒條）
- 🔧 機構配置系統重構

### v1.0 - 初始版本
- 🎯 四連桿機構基本功能

## 🤝 貢獻指南

歡迎提交 Issue 和 Pull Request！本專案適合教學與 Maker 使用。

## 📄 授權

本專案採用 MIT 授權條款。
