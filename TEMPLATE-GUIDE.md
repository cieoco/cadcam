# æ¨¡æ¿åŒ–æ©Ÿæ§‹ç³»çµ± - å¯¦ä½œæŒ‡å—

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

**ä¸€å€‹æ¨¡æ¿é é¢ + URL åƒæ•¸ = æ‰€æœ‰æ©Ÿæ§‹**

```
mechanism.html?type=fourbar      â†’ å››é€£æ¡¿
mechanism.html?type=crankslider  â†’ æ›²æŸ„æ»‘å¡Š  
mechanism.html?type=parallelogram â†’ å¹³è¡Œå››é‚Šå½¢
```

## ğŸ“ æª”æ¡ˆçµæ§‹

```
cadcam/
â”œâ”€â”€ index.html                    # ä½ çš„æ–°é¦–é ï¼ˆå·²å®Œæˆï¼‰âœ…
â”œâ”€â”€ mechanism.html                # çµ±ä¸€çš„æ©Ÿæ§‹æ¨¡æ“¬é é¢ â­ æ–°
â”œâ”€â”€ fourbar.html                  # ä¿ç•™ä½œç‚ºç¨ç«‹ç‰ˆæœ¬ï¼ˆå¯é¸ï¼‰
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ mechanism-config.js       # æ©Ÿæ§‹é…ç½®å®šç¾© â­ æ–°
â”‚   â”œâ”€â”€ mechanism-loader.js       # å‹•æ…‹è¼‰å…¥å™¨ â­ æ–°
â”‚   â”œâ”€â”€ fourbar/
â”‚   â”‚   â”œâ”€â”€ solver.js            # å››é€£æ¡¿æ±‚è§£å™¨ï¼ˆå·²æœ‰ï¼‰
â”‚   â”‚   â””â”€â”€ animation.js         # å››é€£æ¡¿å‹•ç•«ï¼ˆå·²æœ‰ï¼‰
â”‚   â”œâ”€â”€ slider-crank/            # æ›²æŸ„æ»‘å¡Šï¼ˆæœªä¾†ï¼‰
â”‚   â”‚   â”œâ”€â”€ solver.js
â”‚   â”‚   â””â”€â”€ visualization.js
â”‚   â””â”€â”€ ...
```

## ğŸ”§ ä½¿ç”¨æ–¹å¼

### æ–¹æ¡ˆ Aï¼šçµ±ä¸€å…¥å£ï¼ˆæ¨è–¦ï¼‰

**å„ªé»ï¼š** ä¸€å€‹é é¢ç¶­è­·æ‰€æœ‰æ©Ÿæ§‹ï¼Œç¨‹å¼ç¢¼è¤‡ç”¨æœ€å¤§åŒ–

1. **æ›´æ–°é¦–é é€£çµ**ï¼ˆindex.html ç¬¬ 672 è¡Œï¼‰
   ```javascript
   href: "./mechanism.html?type=fourbar"  // æ”¹é€™è£¡
   ```

2. **æœªä¾†æ–°å¢æ©Ÿæ§‹**åªéœ€ï¼š
   - åœ¨ `mechanism-config.js` åŠ å…¥é…ç½®
   - å»ºç«‹å°æ‡‰çš„ solver æ¨¡çµ„
   - é¦–é é€£çµæ”¹ç‚º `mechanism.html?type=æ–°æ©Ÿæ§‹`

### æ–¹æ¡ˆ Bï¼šä¿ç•™ç¨ç«‹é é¢ï¼ˆç›¸å®¹æ€§ï¼‰

**å„ªé»ï¼š** å‘å¾Œç›¸å®¹ï¼Œfourbar.html ä»å¯ç¨ç«‹é‹ä½œ

1. ä¿ç•™ `fourbar.html` ä¸è®Š
2. æ–°æ©Ÿæ§‹ä½¿ç”¨ `mechanism.html?type=xxx`
3. é€æ­¥é·ç§»

## ğŸš€ å¿«é€Ÿé–‹å§‹ï¼šæ–°å¢æ›²æŸ„æ»‘å¡Š

### Step 1: å»ºç«‹æ±‚è§£å™¨

```javascript
// js/slider-crank/solver.js
export function solveSliderCrank({ crankRadius, rodLength, theta }) {
  const r = crankRadius;
  const l = rodLength;
  const th = (theta * Math.PI) / 180;
  
  // è¨ˆç®—æ»‘å¡Šä½ç½®
  const x = r * Math.cos(th) + Math.sqrt(l * l - r * r * Math.sin(th) * Math.sin(th));
  
  return {
    crank: { x: r * Math.cos(th), y: r * Math.sin(th) },
    slider: { x, y: 0 },
    isValid: true
  };
}
```

### Step 2: åœ¨ mechanism-config.js åŠ å…¥é…ç½®

å·²ç¶“åœ¨ `mechanism-config.js` ä¸­å®šç¾©å¥½äº†ï¼

### Step 3: æ›´æ–°é¦–é é€£çµ

```javascript
// index.html ç¬¬ 694 è¡Œé™„è¿‘
href: "./mechanism.html?type=crankslider",  // æ”¹é€™è£¡
enabled: true  // æ”¹ç‚º true
```

## ğŸ“Š å¯¦ä½œå„ªå…ˆé †åº

### ç«‹å³å¯åšï¼ˆ5åˆ†é˜ï¼‰
1. âœ… å·²å»ºç«‹ `mechanism.html`
2. âœ… å·²å»ºç«‹ `mechanism-config.js`
3. âœ… å·²å»ºç«‹ `mechanism-loader.js`
4. â³ æ›´æ–°é¦–é é€£çµï¼ˆè¦‹ä¸‹æ–¹ï¼‰

### çŸ­æœŸï¼ˆ1-2å¤©ï¼‰
5. å¯¦ä½œæ›²æŸ„æ»‘å¡Šæ±‚è§£å™¨
6. å¯¦ä½œæ›²æŸ„æ»‘å¡Šè¦–è¦ºåŒ–
7. æ¸¬è©¦å®Œæ•´æµç¨‹

### ä¸­æœŸï¼ˆ1é€±ï¼‰
8. å¯¦ä½œé›¶ä»¶ç”Ÿæˆï¼ˆåœ“å½¢é›¶ä»¶ï¼‰
9. å¯¦ä½œ G-code ç”Ÿæˆ
10. å®Œå–„æ–‡ä»¶

## ğŸ”„ ç«‹å³è¡Œå‹•ï¼šæ›´æ–°é¦–é é€£çµ

åªéœ€ä¿®æ”¹ index.html çš„ä¸€è¡Œï¼š

```javascript
// æ‰¾åˆ°ç¬¬ 672 è¡Œ
href: "./fourbar.html",

// æ”¹ç‚º
href: "./mechanism.html?type=fourbar",
```

é€™æ¨£ï¼š
- âœ… å››é€£æ¡¿ç«‹å³å¯ç”¨
- âœ… æœªä¾†æ©Ÿæ§‹åªéœ€åŠ é…ç½®
- âœ… ç¨‹å¼ç¢¼è¤‡ç”¨æœ€å¤§åŒ–

## ğŸ’¡ é—œéµå„ªå‹¢

### å‚³çµ±æ–¹å¼ï¼ˆæ¯å€‹æ©Ÿæ§‹ä¸€å€‹é é¢ï¼‰
```
fourbar.html (500 è¡Œ)
crankslider.html (500 è¡Œ)  â† 90% é‡è¤‡
parallelogram.html (500 è¡Œ) â† 90% é‡è¤‡
```

### æ¨¡æ¿æ–¹å¼ï¼ˆå…±ç”¨æ¨¡æ¿ï¼‰
```
mechanism.html (200 è¡Œ)
mechanism-config.js (100 è¡Œ/æ©Ÿæ§‹)
å„æ©Ÿæ§‹ solver.js (50-100 è¡Œ)
```

**ç¯€çœï¼š** æ¯å€‹æ–°æ©Ÿæ§‹åªéœ€ 100-200 è¡Œï¼Œè€Œé 500 è¡Œï¼

## ğŸ¨ è‡ªè¨‚åŒ–

æ¯å€‹æ©Ÿæ§‹å¯ä»¥æœ‰ï¼š
- âœ… ä¸åŒçš„åƒæ•¸è¼¸å…¥
- âœ… ä¸åŒçš„é›¶ä»¶è¦æ ¼
- âœ… ä¸åŒçš„è¦–è¦ºåŒ–
- âœ… ä¸åŒçš„èªªæ˜æ–‡å­—
- âœ… ç›¸åŒçš„ UI æ¡†æ¶å’ŒåŠ å·¥åƒæ•¸

## ğŸ“ ä¸‹ä¸€æ­¥

1. **æ¸¬è©¦ç¾æœ‰ç³»çµ±**
   ```bash
   # ç¢ºèªä¼ºæœå™¨é‹è¡Œä¸­
   # é–‹å•Ÿ http://localhost:8000/mechanism.html?type=fourbar
   ```

2. **æ›´æ–°é¦–é é€£çµ**
   - ä¿®æ”¹ index.html ç¬¬ 672 è¡Œ
   - æ¸¬è©¦é»æ“Šæ˜¯å¦æ­£å¸¸

3. **é–‹å§‹å¯¦ä½œæ›²æŸ„æ»‘å¡Š**
   - å»ºç«‹ `js/slider-crank/solver.js`
   - æ¸¬è©¦ `mechanism.html?type=crankslider`

---

**çµè«–ï¼š** ä½ çš„æƒ³æ³•å®Œå…¨æ­£ç¢ºï¼æ¨¡æ¿åŒ–å¯ä»¥å¤§å¹…æ¸›å°‘é–‹ç™¼æ™‚é–“ï¼Œè®“ä½ å°ˆæ³¨åœ¨æ©Ÿæ§‹é‚è¼¯è€Œé UI é‡è¤‡ã€‚
